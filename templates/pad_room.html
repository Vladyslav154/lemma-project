{% extends "base.html" %}
{% block content %}
<div id="invite-overlay" class="hidden">
    <div class="form-container">
        <h1>Пригласить</h1>
        <p>Покажите этот QR-код собеседнику или отправьте ему одноразовую ссылку.</p>
        <div id="qrcode-container">
            <div id="qrcode"></div>
        </div>
        <input type="text" id="onetime-link" readonly>
        <button id="copy-link-btn" class="button">Копировать ссылку</button>
        <p id="timer"></p>
        <button id="close-overlay-btn" class="button" style="margin-top: 1rem;">Закрыть</button>
    </div>
</div>

<div class="form-container">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h1>Анонимный чат</h1>
        <button id="invite-btn" class="button">Пригласить</button>
    </div>
    <p>Вы в комнате: <strong>{{ room_id }}</strong></p>
    <div id="messages" class="chat-box"></div>
    <form id="message-form" class="chat-form">
        </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script>
// ... (новый JavaScript для генерации QR и одноразовой ссылки) ...
</script>
{% endblock %}